% CIn/UFPE presentation theme
% 27/01/2017 - Bruno Iran Ferreira Maciel - bifm@cin.ufpe.br
\ProvidesPackage{customCIn}[2015/05/20]

%%%%%%%%%%%%%% THEME %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\RequirePackage{pgf}
\RequirePackage{graphicx}
\RequirePackage{url,color,ae}
\RequirePackage{listings,color,upquote}
\RequirePackage{array}
\urlstyle{sf}

%\pgfdeclareimage[width=\paperwidth]{footer}{rodape-ifsc}



% \definecolor{kugreen}{RGB}{50,93,61}
% \definecolor{kugreenlys}{RGB}{132,158,139}
% \definecolor{kugreenlyslys}{RGB}{173,190,177}
% \definecolor{kugreenlyslyslys}{RGB}{214,223,216}

\definecolor{AlTitle}{RGB}{255, 190, 190}
\definecolor{AlBody}{RGB}{213,24,0}

\definecolor{ExTitle}{RGB}{201, 217, 217}

% \usecolortheme[named=kugreen]{structure}
% \setbeamercolor{block title}{fg = white, bg = kugreen}
% \setbeamercolor{block body}{bg = kugreen!15!white}
% \setbeamercolor{block title alerted}{bg = AlTitle}
% \setbeamercolor{block body alerted}{bg = AlBody!5!white}
% \setbeamercolor{block title example}{bg = ExTitle}
% \setbeamercolor{block body example}{bg = ExTitle!15!white}
% \setbeamertemplate{blocks}[rounded]

\setbeamersize{text margin left=25pt,text margin right=25pt}





\setbeamertemplate{navigation symbols}{}
%\addtobeamertemplate{frametitle}{}{\color{kugreen}
%\pgfline{\pgfpoint{1mm}{-2mm}}{\pgfpoint{10.8cm}{-2mm}}}
%\setbeamerfont{frametitle}{series=\bfseries}
\setbeamerfont{title}{series=\bfseries}
\useinnertheme{rectangles}
\setbeamertemplate{headline}[text line]{}



% \newcommand{\Linha}{%
% \raisebox{-3mm}[0pt][0pt]{%
% \begin{pgfpicture}{0mm}{0mm}{0mm}{0mm}
% \pgfsetlinewidth{1mm}
% \color{kugreen}
% \pgfline{\pgfpoint{1.2mm}{-2mm}}{\pgfpoint{10cm}{-2mm}}
% \end{pgfpicture}}}

% \addtobeamertemplate{title page}{\Linha}

\setbeamerfont{footline}{series=\bfseries }

% \setbeamertemplate{footline}{
% %\pgfuseimage{footer}%
% \color{black}
% \pgftext[at=\pgfpoint{-35pt}{5pt},center,bottom]{\insertframenumber/\inserttotalframenumber}
% }



% \setbeamertemplate{footline}
% {
%   \leavevmode%
%   \hbox{%
%   \begin{beamercolorbox}[wd=\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
%     \usebeamerfont{author in head/foot}{CIn/UFPE \parbox{0.9\linewidth}{
%     \raggedleft\insertframenumber
%   } }
%   \end{beamercolorbox}%
% %   \begin{beamercolorbox}[wd=.6\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
% %     \usebeamerfont{title in head/foot}\insertshorttitle\hspace*{3em}
% %     \insertframenumber{} / \inserttotalframenumber\hspace*{1ex}
% %   \end{beamercolorbox}
% }%
%   \vskip0pt%
% }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%--------- Insercao de codigo fonte nos slides --------------------%
\definecolor{hellgelb}{rgb}{1,1,0.9}
\definecolor{colBack}{rgb}{1,1,.98}
\definecolor{colKeys}{rgb}{0,0,0}
\definecolor{colIdentifier}{rgb}{0,0,0.9}
\definecolor{colComments}{rgb}{.4,.4,.4}
\definecolor{colString}{rgb}{0,0,0.6}

\lstset{ %
  backgroundcolor=\color{colBack},   % choose the background color; you must add \usepackage{color} or 
  basicstyle=\ttfamily\footnotesize,
  tabsize=2,        % the size of the fonts that are used for the code
  breakatwhitespace=false,         % sets if automatic breaks should only happen at whitespace
  breaklines=true,                 % sets automatic line breaking
  captionpos=b,                    % sets the caption-position to bottom
  commentstyle=\color{colComments},    % comment style
  deletekeywords={...},            % if you want to delete keywords from the given language
  escapeinside={\%*}{*)},          % if you want to add LaTeX within your code
  extendedchars=true,              % lets you use non-ASCII characters; for 8-bits encodings only, does not work with UTF-8
  firstnumber=last,
  linewidth=0.98\linewidth,
  xleftmargin=10pt,
  frame=single,	                   % adds a frame around the code
  keepspaces=true,                % keeps spaces in text, useful for keeping indentation of code (possibly needs columns=flexible)
%   identifierstyle=\color{colIdentifier},
  keywordstyle=\color{colKeys},       % keyword style
  otherkeywords={*,...},            % if you want to add more keywords to the set
  numbers=left,                    % where to put the line-numbers; possible values are (none, left, right)
  numbersep=5pt,                   % how far the line-numbers are from the code
  numberstyle=\tiny,
%   numberstyle=\tiny\color{mygray}, % the style that is used for the line-numbers
  rulecolor=\color{black},         % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. comments (green here))
  showspaces=false,                % show spaces everywhere adding particular underscores; it overrides 'showstringspaces'
  showstringspaces=false,          % underline spaces within strings only
  showtabs=false,                  % show tabs within strings adding particular underscores
%   stepnumber=2,                    % the step between two line-numbers. If it's 1, each line will be numbered
  stringstyle=\color{colString},     % string literal style
  tabsize=2	                   % sets default tabsize to 2 spaces
}

\lstset{literate=
  {á}{<!---->{\'a}<!---->}1 {é}{<!---->{\'e}<!---->}1 {í}{<!---->{\'i}<!---->}1 {ó}{<!---->{\'o}<!---->}1 {ú}{<!---->{\'u}<!---->}1
  {Á}{<!---->{\'A}<!---->}1 {É}{<!---->{\'E}<!---->}1 {Í}{<!---->{\'I}<!---->}1 {Ó}{<!---->{\'O}<!---->}1 {Ú}{<!---->{\'U}<!---->}1
  {à}{<!---->{\`a}<!---->}1 {è}{<!---->{\`e}<!---->}1 {ì}{<!---->{\`i}<!---->}1 {ò}{<!---->{\`o}<!---->}1 {ù}{<!---->{\`u}<!---->}1
  {À}{<!---->{\`A}<!---->}1 {È}{<!---->{\'E}<!---->}1 {Ì}{<!---->{\`I}<!---->}1 {Ò}{<!---->{\`O}<!---->}1 {Ù}{<!---->{\`U}<!---->}1
  {ä}{<!---->{\"a}<!---->}1 {ë}{<!---->{\"e}<!---->}1 {ï}{<!---->{\"i}<!---->}1 {ö}{<!---->{\"o}<!---->}1 {ü}{<!---->{\"u}<!---->}1
  {Ä}{<!---->{\"A}<!---->}1 {Ë}{<!---->{\"E}<!---->}1 {Ï}{<!---->{\"I}<!---->}1 {Ö}{<!---->{\"O}<!---->}1 {Ü}{<!---->{\"U}<!---->}1
  {â}{<!---->{\^a}<!---->}1 {ê}{<!---->{\^e}<!---->}1 {î}{<!---->{\^i}<!---->}1 {ô}{<!---->{\^o}<!---->}1 {û}{<!---->{\^u}<!---->}1
  {Â}{<!---->{\^A}<!---->}1 {Ê}{<!---->{\^E}<!---->}1 {Î}{<!---->{\^I}<!---->}1 {Ô}{<!---->{\^O}<!---->}1 {Û}{<!---->{\^U}<!---->}1
  {œ}{<!---->{\oe}<!---->}1 {Œ}{<!---->{\OE}<!---->}1 {æ}{<!---->{\ae}<!---->}1 {Æ}{<!---->{\AE}<!---->}1 {ß}{<!---->{\ss}<!---->}1
  {ű}{{\H{u}}}1 {Ű}{{\H{U}}}1 {ő}{{\H{o}}}1 {Ő}{{\H{O}}}1
  {ç}{<!---->{\c c}<!---->}1 {Ç}{<!---->{\c C}<!---->}1 {ø}{<!---->{\o}<!---->}1 {å}{<!---->{\r a}<!---->}1 {Å}{<!---->{\r A}<!---->}1
  {€}{<!---->{\EUR}<!---->}1 {£}{<!---->{\pounds}<!---->}1
}


\lstdefinestyle{shell}{language=csh}
\lstdefinestyle{php}{language=php}
\lstdefinestyle{ansic}{language=c}
\lstdefinestyle{java}{language=java}
\lstdefinestyle{matlab}{language=matlab}
\lstdefinestyle{python}{language=python}
\newcommand{\includecode}[2][c]{\lstinputlisting[escapechar=,style=#1,caption=]{#2}}
\newcommand{\java}{\lstset{language=java}}
\newcommand{\ansic}{\lstset{language=c}}
\newcommand{\php}{\lstset{language=php}}
\newcommand{\shell}{\lstset{language=csh}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%% BRUNO MACIEL

\DefineNamedColor{named}{cinred}    {rgb}{0.6,0.2,0.2}
\DefineNamedColor{named}{cingray}   {rgb}{0.4,0.4,0.4}
\DefineNamedColor{named}{darkgray}   {cmyk}{0,0,0,0.90}


% \setbeamercolor{alerted text}{fg=green!80!yellow}
% \setbeamercolor*{palette primary}{bg=cinred,fg=white}
% \setbeamercolor*{palette secondary}{fg=white,bg=cingray}
% \setbeamercolor*{palette tertiary}{fg=white,bg=darkgray}
% \setbeamercolor*{palette quaternary}{fg=white,bg=yellow}
% \setbeamercolor*{structure}{fg=cinred,bg=white}
% \setbeamercolor{frametitle}{bg=cinred,fg=white}


\usecolortheme[named=darkgray]{structure}
\setbeamercolor{block title}{fg = white, bg = white}
\setbeamercolor{block body}{bg = white!15!white}
\setbeamercolor{block title alerted}{bg = AlTitle}
\setbeamercolor{block body alerted}{bg = AlBody!5!white}
\setbeamercolor{block title example}{bg = ExTitle}
\setbeamercolor{block body example}{bg = ExTitle!15!white}
\setbeamertemplate{blocks}[rounded]



%%%%%%%%%5 background

 \pgfdeclareimage[height=\paperheight,width=\paperwidth]{myimage}{images/gb-cin.png}
 
 %\usebackgroundtemplate{\tikz\node[opacity=0.7] {\pgfuseimage{myimage}};}


{\usebackgroundtemplate{
        \begin{picture}(0,273)
           \pgfuseimage{myimage}
        \end{picture}
}%




% \setcounter{page}{1} 
% \pagenumbering{arabic} 

\setbeamertemplate{frametitle}{
\vspace*{7pt}

    \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
    \@tempdima=\textwidth%
    \advance\@tempdima by\beamer@leftmargin%
    %\advance\@tempdima by\beamer@rightmargin%
    \hspace*{0.45cm} %%%%%%%%%%%%% For example insert shift to right
    \begin{beamercolorbox}[sep=0.1cm,left,wd=\the\@tempdima]{frametitle}
        \usebeamerfont{frametitle}%
        \vbox{}\vskip-1ex%
        \if@tempswa\else\csname beamer@ftecenter\endcsname\fi%
        \strut\textcolor{black}{\fontsize{18pt}{9.2}\selectfont \insertframetitle } \strut\par{} 
        
        
        % {%
        %     \ifx\insertframesubtitle\@empty%
        %     \else%
        %     {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
        %     \fi
        % }%
        \vskip-1ex%
        \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
    \end{beamercolorbox}%
}





%%%%%%%%%%%%%%%%






\makeatletter
\newcommand\titlegraphicii[1]{\def\inserttitlegraphicii{#1}}
\titlegraphicii{}
\setbeamertemplate{title page}
{
  \vbox{}
   {\usebeamercolor[fg]{titlegraphic}\inserttitlegraphic\hfill\inserttitlegraphicii\par}
  \begin{centering}
    \begin{beamercolorbox}[sep=13pt,center]{institute}
      \usebeamerfont{institute}\insertinstitute
    \end{beamercolorbox}
    \begin{beamercolorbox}[sep=8pt,center]{title}
      \usebeamerfont{title}\inserttitle\par%
      \ifx\insertsubtitle\@empty%
      \else%
        \vskip0.25em%
        {\usebeamerfont{subtitle}\usebeamercolor[fg]{subtitle}\insertsubtitle\par}%
      \fi%     
    \end{beamercolorbox}%
    \begin{beamercolorbox}[sep=8pt,center]{author}
      \usebeamerfont{author}\insertauthor
    \end{beamercolorbox}
    \vskip1em\par
    \begin{beamercolorbox}[sep=8pt,center]{date}
      \usebeamerfont{date}\insertdate
    \end{beamercolorbox}%\vskip0.5em
    
  \end{centering}
  %\vfill
}
\makeatother








%%%%%%%%%%%%%%%%%%%%% sumário

\setbeamertemplate{section in toc}[sections numbered]
\setbeamertemplate{subsection in toc}[subsections numbered]
\setbeamertemplate{subsubsection in toc}[subsubsections numbered]

\AtBeginSection[]
{
\begin{frame}
\frametitle{Outline}
\tableofcontents[currentsection,currentsubsection, currentsubsubsection]
\end{frame}
}

\setbeamercolor{section in toc}{fg=darkgray}
\setbeamercolor{subsection in toc}{fg=darkgray}
\setbeamercolor{subsubsection in toc}{fg=darkgray}


% \setbeamerfont{section in toc}{size=\huge}

% \setbeamerfont{subsection in toc}{size=\LARGE}

% \setbeamerfont{subsubsection in toc}{size=\large}



%%%%%%%%%%%%%%


%%%%%%%%%%%%%remover slides de seções

% \AtBeginSection{}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%